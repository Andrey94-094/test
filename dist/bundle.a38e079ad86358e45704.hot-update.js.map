{"version":3,"file":"bundle.a38e079ad86358e45704.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;;AAEA;AACA;AACA;;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAFA;;AAIA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AChFA","sources":["webpack:///./src/components/calculator.js","webpack:///webpack/runtime/getFullHash"],"sourcesContent":["// export default () => $(document).ready(function() {\n//     $(\"form.has-calculator\").change(function() {\n//         var form = this;\n//         var product = $(\"input[name='product']\", form).val();\n//         var length = $(\"input[name='length']:checked\", form).val();\n//         var shag = $(\"input[name='shag']:checked\", form).val();\n//         var sum = 0;\n//         sum += calculatorData[product][length][shag];\n\n//         var out = $('.jPrice', form);\n//         var outOld = $('.jPriceOld', form);\n//         var animateFrom = out.data(\"animateFrom\") > 0 ? out.data(\"animateFrom\") : 0;\n\n//         $({\n//             animateNumber: animateFrom\n//         }).animate({\n//             animateNumber: sum\n//         }, {\n//             duration: 800,\n//             step: function(animateNumber) {\n//                 out.text(Number(animateNumber).toFixed());\n//                 outOld.text(Number(animateNumber * 1.4).toFixed());\n//             },\n//             complete: function() {\n//                 out.data(\"animateFrom\", Number(sum).toFixed());\n//             }\n//         });\n//     });\n//     $(\"form.has-calculator\").change();\n\n// })\nimport calculatorData from \"../../assets/js/data\"\n\nexport default (() => {\n\n    [].forEach.call(document.querySelectorAll(\"form.has-calculator\"), function(form) {\n        form.addEventListener('change', function() {\n\n            let product = form.querySelector('input[name=\"product\"]');\n\n            if (product.type !== 'hidden') {\n                product = form.querySelector('input[name=\"product\"]:checked');\n            }\n            let length = form.querySelector('input[name=\"length\"]:checked');\n            let interval = form.querySelector('input[name=\"interval\"]:checked');\n            let sum = 0;\n\n            try {\n                sum += calculatorData.products[product.value][length.value][interval.value];\n                const animateBlock = form.querySelector('.catalog__price');\n                const out = form.querySelector('.calculator-price');\n                const outOld = form.querySelector('.calculator-price-old');\n\n                const animationName = 'pulse';\n                animateBlock.classList.add('animated', 'faster', animationName);\n                animateBlock.addEventListener('animationend', function() { animateBlock.classList.remove('animated', 'faster', animationName) });\n\n                let numberFrom = Number(typeof out.dataset.from === 'undefined' ? 0 : out.dataset.from);\n                let numberTo = Number(sum);\n                const time = {\n                    start: performance.now(),\n                    duration: 400\n                };\n                const tick = function(now) {\n                    const progress = Math.min((now - time.start) / time.duration, 1);\n                    const easing = Math.pow(progress - 1, 5) + 1;\n                    const value = numberFrom + (numberTo - numberFrom) * easing;\n                    out.textContent = value.toFixed();\n                    if (progress < 1) {\n                        requestAnimationFrame(tick);\n                    } else {\n                        out.dataset.from = numberTo.toFixed();\n                        outOld.textContent = Number(numberTo * 1.27).toFixed();\n                    }\n                };\n                requestAnimationFrame(tick);\n            } catch (e) { console.error(e); }\n        });\n        form.dispatchEvent(new Event('change'));\n    });\n})","__webpack_require__.h = function() { return \"d2f4a53eacba8bfe6d9b\"; }"],"names":[],"sourceRoot":""}