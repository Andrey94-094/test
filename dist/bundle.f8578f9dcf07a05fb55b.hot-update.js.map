{"version":3,"file":"bundle.f8578f9dcf07a05fb55b.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AACA;AAEA;;AAEA;AACA;AACA;;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AClDA","sources":["webpack:///./src/components/calculator.js","webpack:///webpack/runtime/getFullHash"],"sourcesContent":["import calculatorData from \"../../assets/js/data\"\n\nexport default (() => {\n\n    [].forEach.call(document.querySelectorAll(\"form.has-calculator\"), function(form) {\n        form.addEventListener('change', function() {\n\n            let product = form.querySelector('input[name=\"product\"]');\n\n            if (product.type !== 'hidden') {\n                product = form.querySelector('input[name=\"product\"]:checked');\n            }\n            let length = form.querySelector('input[name=\"length\"]:checked');\n            let interval = form.querySelector('input[name=\"interval\"]:checked');\n            let sum = 0;\n\n            try {\n                sum += calculatorData.products[product.value][length.value][interval.value];\n                const animateBlock = form.querySelector('.catalog__price');\n                const out = form.querySelector('.calculator-price');\n                const outOld = form.querySelector('.calculator-price-old');\n\n                const animationName = 'pulse';\n                animateBlock.classList.add('animated', 'faster', animationName);\n                animateBlock.addEventListener('animationend', function() { animateBlock.classList.remove('animated', 'faster', animationName) });\n\n                let numberFrom = Number(typeof out.dataset.from === 'undefined' ? 0 : out.dataset.from);\n                let numberTo = Number(sum);\n                const time = {\n                    start: performance.now(),\n                    duration: 600\n                };\n                const tick = function(now) {\n                    const progress = Math.min((now - time.start) / time.duration, 1);\n                    const easing = Math.pow(progress - 1, 5) + 1;\n                    const value = numberFrom + (numberTo - numberFrom) * easing;\n                    outOld.textContent = value.toFixed();\n                    out.textContent = value.toFixed();\n                    if (progress < 1) {\n                        requestAnimationFrame(tick);\n                    } else {\n                        out.dataset.from = numberTo.toFixed();\n                        outOld.textContent = Number(numberTo * 1.27).toFixed();\n                    }\n                };\n                requestAnimationFrame(tick);\n            } catch (e) { console.error(e); }\n        });\n        form.dispatchEvent(new Event('change'));\n    });\n})","__webpack_require__.h = function() { return \"cccfe0c04ded3e9f22c0\"; }"],"names":[],"sourceRoot":""}